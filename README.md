# bookangeles

## Entities

All entities have an ObjectID field which is generated by Mongo and can be converted to creation time, thus no need to store `created_at` into database.
   
- **user**
  - `id`:number *unique, required*
  - `display_name`:string *required*
  - `username`:string *unique, required* (just an email)
  - `password`:string *required*
  - `invites`:number *required, default=5?* (invites countdown)
  - `created_at`:timestamp *required*

- **book**
  - `id`:number *unique, required*
  - `owner`:string *required, ref:user.username* 
  - `file_name`:string *required*
  - `file_format`:string *required*
  - `file_url`:string *required*
  - `title`:string 
  - `author`:string 
  - `tags`:[string] *default=[]*
  - `cover_url`:string
  - `small_cover_url`:string
  - `note`:string
  - `created_at`:timestamp *required*
  
- **share**
  - `id`:number *unique, required*
  - `owner`:string *required ref:user.username*
  - `recipient`:string *required, unique_max_per_owner=3, ref:user.username*
  - `type`:string *required, one_of=['all', 'tag', 'book']*
  - `value`:string *required, one_of=['all', tagname, book:id]*
  - `created_at`:timestamp *required*

- **invite**
  - `id`:number *unique, required*
  - `owner`:string *required*
  - `recipient`:string *required*
  - `resolved`:bool *required*
  - `resolved_at`:date *required*
  - `created_at`:timestamp *required*
