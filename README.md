# bookangeles

## Installation
```
npm install -g strongloop
npm install
```

## Start application
```
slc run # or node server/server.js
npm run webpack
```

## Entities

All entities have an ObjectID field which is generated by Mongo and can be converted to creation time, thus no need to store `created_at` into database.
   
- **user**
  - `id:number` *unique, required*
  - `displayName:string` *required*
  - `username:string` *unique, required* (just an email)
  - `password:string` *required*
  - `active:bool` *required*
  - `invites:number` *required, default=5?* (invites countdown)
  - `createdAt:timestamp` *required*

- **book**
  - `id:number` *unique, required*
  - `owner:string` *required, ref:user.username* 
  - `fileName:string` *required*
  - `fileFormat:string` *required*
  - `fileUrl:string` *required*
  - `title:string` 
  - `author:string` 
  - `tags:[string]` *default=[]*
  - `coverUrl:string`
  - `smallCoverUrl:string`
  - `note:string`
  - `createdAt:timestamp` *required*
  
- **share**
  - `id:number` *unique, required*
  - `owner:string` *required ref:user.username*
  - `recipient:string` *required, unique_max_per_owner=3, ref:user.username*
  - `type:string` *required, one_of=['all', 'tag', 'book']*
  - `value:string` *required, one_of=['all', tagname, book:id]*
  - `createdAt:timestamp` *required*

- **invite**
  - `id:number` *unique, required*
  - `owner:string` *required*
  - `recipient:string` *required*
  - `resolved:bool` *required*
  - `resolvedAt:date` *required*
  - `createdAt:timestamp` *required*
